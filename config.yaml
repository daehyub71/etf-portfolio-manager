# ==========================================
# config.yaml - ETF ì¥ê¸°íˆ¬ì ê´€ë¦¬ ì‹œìŠ¤í…œ ì„¤ì •
# ==========================================

# ğŸ—ï¸ ì‹œìŠ¤í…œ ê¸°ë³¸ ì„¤ì •
system:
  name: "ETF ì¥ê¸°íˆ¬ì ê´€ë¦¬ ì‹œìŠ¤í…œ"
  version: "1.0.0"
  debug: false
  timezone: "Asia/Seoul"
  locale: "ko_KR"

# ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
database:
  path: "etf_universe.db"
  backup_enabled: true
  backup_interval_days: 7
  vacuum_interval_days: 30
  
  # SQLite ìµœì í™” ì„¤ì •
  sqlite_options:
    journal_mode: "WAL"
    synchronous: "NORMAL"
    cache_size: 10000
    temp_store: "MEMORY"

# ETF ë°ì´í„° ìˆ˜ì§‘ ì„¤ì •
data_collection:
  use_real_data: true
  request_delay: 1.0  # ì´ˆ
  max_retries: 3
  timeout: 15
  
# ë°ì´í„° í’ˆì§ˆ ì„ê³„ê°’
quality_thresholds:
  excellent: 80
  good: 60
  fair: 40

# ğŸ“Š ë°ì´í„° ìˆ˜ì§‘ ì„¤ì •
data_collection:
  # ì‹œì¥ ë°ì´í„° ìˆ˜ì§‘
  market_data:
    provider: "pykrx"  # pykrx, yfinance, simulation
    update_interval_hours: 24
    retry_attempts: 3
    timeout_seconds: 30
    
  # ETF ë°ì´í„° ì„¤ì •
  etf_data:
    update_schedule: "18:00"  # ì¥ë§ˆê° í›„
    batch_size: 10
    delay_between_requests: 1.0
    max_concurrent_requests: 5
    
  # ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬
  quality_control:
    min_price_threshold: 100
    max_price_change_pct: 20
    required_fields: ["name", "code", "market_price"]
    
# ğŸ“ˆ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ ì„¤ì •
portfolio:
  # ê¸°ë³¸ ì„¤ì •
  default_strategy: "core_satellite"
  default_rebalance_threshold: 5.0  # 5% í¸ì°¨
  min_investment_amount: 100000     # ìµœì†Œ íˆ¬ìê¸ˆ 10ë§Œì›
  
  # ë¦¬ë°¸ëŸ°ì‹± ì„¤ì •
  rebalancing:
    auto_rebalance: false
    notification_threshold: 3.0      # 3% í¸ì°¨ì‹œ ì•Œë¦¼
    transaction_cost_rate: 0.001     # 0.1% ê±°ë˜ë¹„ìš©
    min_trade_amount: 50000          # ìµœì†Œ ê±°ë˜ê¸ˆì•¡ 5ë§Œì›
    
  # íˆ¬ì ì „ëµë³„ ì„¤ì •
  strategies:
    core_satellite:
      core_ratio: 0.8               # ì½”ì–´ ìì‚° 80%
      satellite_ratio: 0.2          # ìƒˆí‹€ë¼ì´íŠ¸ 20%
      domestic_bias: 0.4            # êµ­ë‚´ í¸í–¥ 40%
      
    lifecycle:
      bond_floor: 0.2               # ìµœì†Œ ì±„ê¶Œ ë¹„ì¤‘ 20%
      equity_ceiling: 0.9           # ìµœëŒ€ ì£¼ì‹ ë¹„ì¤‘ 90%
      age_adjustment_rate: 0.01     # ë‚˜ì´ë³„ ì¡°ì •ë¥  1%
      
    global_diversified:
      max_single_asset: 0.3         # ë‹¨ì¼ ìì‚° ìµœëŒ€ 30%
      min_single_asset: 0.05        # ë‹¨ì¼ ìì‚° ìµœì†Œ 5%
      geographic_balance: true      # ì§€ì—­ë³„ ê· í˜•
      
# â° ìŠ¤ì¼€ì¤„ë§ ì„¤ì •
scheduling:
  # ìŠ¤ì¼€ì¤„ëŸ¬ íƒ€ì…
  scheduler_type: "apscheduler"  # apscheduler, basic
  max_concurrent_jobs: 3
  job_timeout_minutes: 30
  
  # ê¸°ë³¸ ìŠ¤ì¼€ì¤„
  default_schedules:
    # ì¼ì¼ ì—…ë°ì´íŠ¸
    daily_update:
      enabled: true
      cron: "0 18 * * 1-5"          # í‰ì¼ 18ì‹œ
      description: "ì¥ë§ˆê° í›„ ì¼ì¼ ë°ì´í„° ì—…ë°ì´íŠ¸"
      
    # ì£¼ê°„ ì „ì²´ ì—…ë°ì´íŠ¸  
    weekly_update:
      enabled: true
      cron: "0 2 * * 0"             # ì¼ìš”ì¼ ìƒˆë²½ 2ì‹œ
      description: "ì£¼ê°„ ì „ì²´ ì‹œìŠ¤í…œ ì ê²€"
      
    # ë¹ ë¥¸ ìƒíƒœ ì²´í¬
    health_check:
      enabled: true
      cron: "0 */4 * * *"           # 4ì‹œê°„ë§ˆë‹¤
      description: "ì‹œìŠ¤í…œ ê±´ê°• ìƒíƒœ ì²´í¬"
      
# ğŸŒ ëŒ€ì‹œë³´ë“œ ì„¤ì •
dashboard:
  # ì›¹ ëŒ€ì‹œë³´ë“œ
  web:
    enabled: true
    host: "localhost"
    port: 8501
    auto_refresh_seconds: 30
    theme: "light"                  # light, dark
    
  # CLI ëŒ€ì‹œë³´ë“œ
  cli:
    enabled: true
    color_output: true
    progress_bars: true
    
  # ì°¨íŠ¸ ì„¤ì •
  charts:
    default_period_days: 30
    max_data_points: 1000
    color_palette: ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd"]
    
# ğŸ”” ì•Œë¦¼ ì„¤ì •
notifications:
  # ì¼ë°˜ ì„¤ì •
  enabled: true
  channels: ["log", "console"]     # log, console, email, slack, webhook
  
  # ì•Œë¦¼ ë ˆë²¨
  levels:
    error: true
    warning: true
    info: false
    debug: false
    
  # ì´ë©”ì¼ ì•Œë¦¼
  email:
    enabled: false
    smtp_server: "smtp.gmail.com"
    smtp_port: 587
    username: ""
    password: ""
    from_email: ""
    to_emails: []
    
  # ìŠ¬ë™ ì•Œë¦¼
  slack:
    enabled: false
    webhook_url: ""
    channel: "#etf-alerts"
    username: "ETF Bot"
    
  # ì›¹í›… ì•Œë¦¼
  webhook:
    enabled: false
    url: ""
    method: "POST"
    headers: {}
    
# ğŸ” ë³´ì•ˆ ì„¤ì •
security:
  # API ë³´ì•ˆ
  api_keys:
    enabled: false
    key_rotation_days: 90
    
  # ë°ì´í„° ì•”í˜¸í™”
  encryption:
    enabled: false
    algorithm: "AES-256"
    
  # ì•¡ì„¸ìŠ¤ ì œì–´
  access_control:
    enabled: false
    allowed_ips: []
    rate_limiting: true
    
# ğŸ“ ë¡œê¹… ì„¤ì •
logging:
  # ê¸°ë³¸ ì„¤ì •
  level: "INFO"                    # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  # íŒŒì¼ ë¡œê¹…
  file:
    enabled: true
    path: "logs/etf_system.log"
    max_size_mb: 10
    backup_count: 5
    rotation: "daily"              # daily, weekly, size
    
  # ì½˜ì†” ë¡œê¹…
  console:
    enabled: true
    color: true
    
# ğŸš€ ì„±ëŠ¥ ì„¤ì •
performance:
  # ë©”ëª¨ë¦¬ ê´€ë¦¬
  memory:
    max_cache_size_mb: 500
    gc_threshold: 1000
    
  # ì²˜ë¦¬ ì„±ëŠ¥
  processing:
    worker_threads: 4
    batch_processing: true
    async_operations: true
    
  # ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥
  network:
    connection_pool_size: 10
    request_timeout: 30
    retry_backoff_factor: 2
    
# ğŸ“Š ëª¨ë‹ˆí„°ë§ ì„¤ì •
monitoring:
  # ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
  system:
    enabled: true
    check_interval_seconds: 300     # 5ë¶„ë§ˆë‹¤
    cpu_threshold: 80
    memory_threshold: 80
    disk_threshold: 90
    
  # ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§
  application:
    enabled: true
    health_check_endpoint: "/health"
    metrics_collection: true
    error_tracking: true
    
# ğŸ”§ ê°œë°œ ì„¤ì • (ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©)
development:
  debug_mode: false
  test_data: false
  mock_api_calls: false
  profiling: false
  
  # í…ŒìŠ¤íŠ¸ ì„¤ì •
  testing:
    use_test_db: true
    test_db_path: "test_etf_universe.db"
    reset_db_on_start: true
    
# ğŸŒ êµ­ì œí™” ì„¤ì •
i18n:
  default_language: "ko"
  supported_languages: ["ko", "en"]
  currency_format: "KRW"
  date_format: "%Y-%m-%d"
  number_format: "comma"
  
# ğŸ“¦ í”ŒëŸ¬ê·¸ì¸ ì„¤ì •
plugins:
  enabled: false
  plugin_directory: "plugins"
  auto_load: true
  
# ğŸ”„ ë°±ì—… ë° ë³µêµ¬ ì„¤ì •
backup:
  # ìë™ ë°±ì—…
  auto_backup:
    enabled: true
    schedule: "0 3 * * *"           # ë§¤ì¼ ìƒˆë²½ 3ì‹œ
    retention_days: 30
    
  # ë°±ì—… ìœ„ì¹˜
  storage:
    local_path: "backups"
    cloud_enabled: false
    cloud_provider: ""              # aws, gcp, azure
    
# ğŸ“ˆ ë¶„ì„ ì„¤ì •
analytics:
  # ì„±ê³¼ ë¶„ì„
  performance:
    benchmark_codes: ["069500", "360750"]  # ë²¤ì¹˜ë§ˆí¬ ETF
    risk_free_rate: 0.025                  # ë¬´ìœ„í—˜ ìˆ˜ìµë¥  2.5%
    confidence_level: 0.95                 # VaR ì‹ ë¢°ìˆ˜ì¤€ 95%
    
  # ì‹œì¥ ë¶„ì„
  market:
    correlation_threshold: 0.7
    volatility_window: 30
    trend_analysis_period: 60
    
# ğŸ¯ ì‚¬ìš©ì ê¸°ë³¸ê°’
user_defaults:
  age: 35
  risk_level: "moderate"                   # conservative, moderate, aggressive
  investment_goal: "retirement"            # retirement, wealth, income
  investment_horizon: 20                   # ë…„
  initial_amount: 10000000                 # 1000ë§Œì›
  monthly_contribution: 500000             # 50ë§Œì›

# ==========================================
# ì„¤ì • ì‚¬ìš© ì˜ˆì œ
# ==========================================

# Pythonì—ì„œ ì„¤ì • ë¡œë“œ:
# import yaml
# with open('config.yaml', 'r', encoding='utf-8') as f:
#     config = yaml.safe_load(f)
# 
# # ì„¤ì • ì‚¬ìš©:
# db_path = config['database']['path']
# log_level = config['logging']['level']
# port = config['dashboard']['web']['port']

# ==========================================
# í™˜ê²½ë³„ ì„¤ì • ì˜¤ë²„ë¼ì´ë“œ
# ==========================================

# ê°œë°œ í™˜ê²½:
# development:
#   database:
#     path: "dev_etf_universe.db"
#   logging:
#     level: "DEBUG"

# ìš´ì˜ í™˜ê²½:
# production:
#   database:
#     backup_enabled: true
#   security:
#     encryption:
#       enabled: true
#   monitoring:
#     enabled: true